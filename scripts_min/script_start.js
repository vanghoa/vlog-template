"use strict";let isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function button_arrange(t,e,a,n,s,i){let r=button[t],l=r.length,o=Math.round(e*l);limgrid[i]=o;let d=`calc(\n                  (100${a}*${e} - ${navsz/2}px)/${o}\n                )`,h=`calc(\n                  (100${a}*${1-e} - ${navsz/2}px)/${l-o}\n                )`;setp(`--${i}lim`,`${o}`),setp(`--${i}sh`,d),setp(`--${i}sh_`,h);for(let t=0;t<=l-1;t++)r[t].classList.remove("upleft","downright"),r[t].style[n]="1",t+1<=o?(r[t].style[s]=`${t+1}`,r[t].classList.add("upleft")):(r[t].style[s]=`${t+2}`,r[t].classList.add("downright"))}function setup_buttons(){button[1]=[],button[2]=[];let t=(height>500&&width>500?.5:height/(width+height))*buttonfull.length;for(let e=0;e<=buttonfull.length-1;e++){let a=e<t?1:2,n=buttonfull[e];nav[a].appendChild(n),button[a].push(n)}ylength=button[1].length,xlength=button[2].length,setp("--yyleng",`${ylength}`),setp("--xxleng",`${xlength}`)}function setup_petals(){let t=$$(".petal");for(let e of t)e.remove();arrpetal=[],arrpetalfull=Array(ylength+1);let e=$create("button");e.className="petal";for(let t=0;t<=ylength;t++){arrpetalfull[t]=[];for(let a=0;a<=xlength;a++){let n=e.cloneNode(!0);n.style.gridRow=t+2,n.style.gridColumn=a+2,nav.appendChild(n),arrpetalfull[t].push(n)}}}async function grow_petals(t){arrpetal=[];let e=Array(4).fill(limgrid.yy),a=Array(4).fill(limgrid.xx);for(e[0]--,a[0]--,e[1]--,a[1]++,e[2]++,a[2]--,e[3]++,a[3]++;;){let t=0;if(e[0]>=0&&a[0]>=0?(s(0),e[0]--,a[0]--):t++,e[1]>=0&&a[1]<=xlength?(s(1),e[1]--,a[1]++):t++,e[2]<=ylength&&a[2]>=0?(s(2),e[2]++,a[2]--):t++,e[3]<=ylength&&a[3]<=xlength?(s(3),e[3]++,a[3]++):t++,4==t)break}t&&await timeout(200);for(let e of arrpetal)t?e.addEventListener("transitionend",n):e.classList.add("notransition"),e.classList.add("show"),t?await timeout(100):n({target:e});function n(t){let e,a,s=t.target,i=s.getBoundingClientRect();switch(s.corner){case 0:a=e=-navsz/2;break;case 1:e=navsz/2,a=-navsz/2;break;case 2:e=-navsz/2,a=navsz/2;break;case 3:a=e=navsz/2}s.style.backgroundPosition=`calc(50% + ${width/2-(i.left+i.width/2)+e}px) calc(50% + ${height/2-(i.top+i.height/2)+a}px)`,s.removeEventListener("transitionend",n)}function s(t){let n=arrpetalfull[e[t]][a[t]];n.classList.remove("show"),n.classList.add(`p${t}`,"visibility"),n.corner=t,arrpetal.push(n)}buttonall_disabled(!1)}async function dispose_petals(){arrpetal.reverse();for(let t of arrpetal)t.classList.remove("notransition","show"),await timeout(100),t.classList.remove("p0","p1","p2","p3","visibility");buttonall_disabled(!1)}async function opennav(){xx=map(Math.random(),0,1,1/xlength,1-1/xlength),yy=map(Math.random(),0,1,1/ylength,1-2/ylength),setp("--xx",`${xx}`),setp("--yy",`${yy}`),button_arrange(1,yy,"vh","grid-column","grid-row","yy"),button_arrange(2,xx,"vw","grid-row","grid-column","xx"),root.classList.add("open"),grow_petals(!0);let t=navsz/2,e=width*xx,a=height*yy;for(let n of arr){let s=t,i=t,r=n.posx()+n.transx,l=n.posy()+n.transy,o=n.left+n.transx,d=n.left_()+n.transx,h=n.top+n.transy,c=n.top_()+n.transy;r<e&&(s=-t),l<a&&(i=-t),o<e&&d>e&&(n.classList.add("transition_wh"),r>=e&&(s=-s),n.width+=n.resizable?2*t:0,n.style.width=`${n.width}px`),h<a&&c>a&&(n.classList.add("transition_wh"),l>=a&&(i=-i),n.height+=n.resizable?2*t:0,n.style.height=`${n.height}px`),n.classList.add("transition"),translate(n,s,i)}translate(text,-t,-t);for(let t of background)translate(t,t.dx,t.dy);translate(keynotes,0,t)}function closenav(){dispose_petals(),root.classList.remove("open");let t=-navsz/2,e=width*xx,a=e-navsz/2,n=e+navsz/2,s=height*yy,i=s-navsz/2,r=s+navsz/2;for(let l of arr){let o=t,d=t,h=l.posx()+l.transx,c=l.posy()+l.transy,u=l.left+l.transx,p=l.left_()+l.transx,g=l.top+l.transy,f=l.top_()+l.transy;if(h<e&&(o=-o),c<s&&(d=-d),u<a&&p>a||u<n&&p>n){l.classList.add("transition_wh");let t=p-a,s=n-u,i=t<s?t:s;i=i>navsz?navsz:i,i++,h>=e&&(o+=i),l.width-=l.resizable?i:0}else u>a&&p<n&&(o=0);if(g<i&&f>i||g<r&&f>r){l.classList.add("transition_wh");let t=f-i,e=r-g,a=t<e?t:e;a=a>navsz?navsz:a,a++,c>=s&&(d+=a),l.height-=l.resizable?a:0}else g>i&&f<r&&(d=0);l.style.width=`${l.width}px`,l.style.height=`${l.height}px`,l.classList.add("transition"),translate(l,o,d)}translate(text,-t,-t);for(let t of background)translate(t,-t.dx,-t.dy);translate(keynotes,0,t)}async function wait(){let t=width*xx,e=height*yy,a=navsz/2,n=week.innerText,s=urlarrtong[n].urlarr;for(sovid=s.length,subdata=urlarrtong[n].subdata,arr=[];section.firstChild;)section.removeChild(section.lastChild);setp("--pardiv_opacity",1/sovid);for(let t=1;t<=sovid;t++){let e,a,n=s[sovid-1-(t-1)];switch(t%4){case 0:e=!0,a=!0;break;case 1:e=!1,a=!0;break;case 2:e=!0,a=!1;break;case 3:e=!1,a=!1}let o,d=r(t),h=l(t,e,a,n.type);switch(n.type){case"webm":o=$create("video"),o.muted=!0,o.loop=!0,o.setAttribute("playsinline",!0);let e=$create("source");e.setAttribute("src",n.url),e.setAttribute("type","video/webm"),o.appendChild(e),t==sovid&&o.play();break;case"jpg":o=$create("img"),o.src=n.url,o.alt="internship_image";break;case"js":({default:o}=await import(`../${n.url}`)),o.play=()=>{o.src=o.src_}}let c=i();h.append(o,c),d.appendChild(h),section.appendChild(d),arr.push(h),setp("--oparoad",""+.5*t/sovid),await timeout(100)}if(0==sovid){sovid=1;let a=r(1);a.style.backgroundColor="rgba(255,255,255,0.3)";let n=l(1,!0,!0);n.classList.add("annoucement"),n.height=map(Math.random(),0,1,5*snap,2*e*(4/7)),n.width=map(Math.random(),0,1,5*snap,2*t*(4/7)),n.left=t-n.width/2,n.top=e-n.height/2,n.style.left=`${n.left}px`,n.style.top=`${n.top}px`,n.style.width=`${n.width}px`,n.style.height=`${n.height}px`;let s=$create("p");s.textContent="This week not have any recording (yet)";let o=i();n.append(s,o),a.appendChild(n),section.appendChild(a),arr.push(n),setp("--oparoad","0.2"),await timeout(100)}function i(){let t=$create("div");return t.classList.add("xbutton"),t.title="close this item",t.onclick=({currentTarget:{parentElement:t}})=>{if(`${currentvid}`===t.id){setp("--oparoad",""+.5*+t.id/sovid),currentvid=t.id-1,t.parentElement.remove(),arr[t.id-1]?.classList.remove("black"),arr[t.id-1]?.lastChild.classList.add("active");try{t.firstElementChild?.pause()}catch(t){}try{arr[t.id-1]?.firstElementChild.play()}catch(t){}}},t}function r(t){let e=$create("div");return e.className="pardiv",e}function l(n,s,i,r=""){let l=$create("div");return"js"==r?(l.width=300,l.height=241,l.left=(width-l.width)/2,l.top=(height-l.height)/2,l.resizable=!1):(l.resizable=!0,l.width=map(Math.random(),0,1,4*snap,6*(s?t:width-t)/7),l.height=map(Math.random(),0,1,4*snap,6*(i?e:height-e)/7),l.left=map(Math.random(),0,1,(s?0:t)-a,(s?t:width)-l.width+a),l.top=map(Math.random(),0,1,(i?0:e)-a,(i?e:height)-l.height+a)),l.left_=function(){return this.left+this.width},l.top_=function(){return this.top+this.height},l.posx=function(){return this.left+this.width/2},l.posy=function(){return this.top+this.height/2},l.transx=0,l.transy=0,l.className="resize-drag "+(n==sovid?"":"black"),l.style.left=`${l.left}px`,l.style.top=`${l.top}px`,l.style.height=`${l.height}px`,l.style.width=`${l.width}px`,l.ontransitionend=t=>{l.classList.remove("transition"),l.classList.remove("transition_wh")},l.id=n-1,l}currentvid=sovid-1,arr[sovid-1].lastChild.classList.add("active"),0==subdata.length?(subdata=!1,sub.textContent=`"No keynotes for week ${n}."`,sub.classList.remove("haskeynotes"),kn_before.disabled=!0,kn_next.disabled=!0,kn_before.textContent="Prev",kn_next.textContent="Next"):(kn_before.disabled=!1,kn_next.disabled=!1,kn_before.textContent=`${subdata.length}/${subdata.length}`,kn_next.textContent=`2/${subdata.length}`,sub.textContent=`"${subdata[0]}"`,sub.current=0,sub.classList.add("haskeynotes")),navisopen?week_click():buttonall_disabled(!1)}function week_click(){navisopen?closenav():(buttonall_disabled(!0),opennav()),navisopen=!navisopen}function navigate(t){buttonall_disabled(!0),week.innerText=t.getAttribute("page"),wait(),location.hash=week.innerText}function dragMoveListener(t){translate(t.target,t.dx,t.dy)}function map(t,e,a,n,s){return(t-e)*(s-n)/(a-e)+n}function UrlExists(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),404!=e.status}function translate(t,e,a){var n=+t.transx+e,s=+t.transy+a;t.style.transform="translate("+n+"px, "+s+"px)",t.transx=n,t.transy=s}function timeout(t){return new Promise((e=>setTimeout(e,t)))}function toDeci(t){let e=t.split("/");return+e[0]/+e[1]}function keynote_nav(t){let e=sub.current;e=check_cur(t?e+1:e-1),sub.textContent=`"${subdata[e]}"`,kn_before.textContent=`${check_cur(e-1)+1}/${subdata.length}`,kn_next.textContent=`${check_cur(e+1)+1}/${subdata.length}`,sub.current=e}function check_cur(t){let e=t>subdata.length-1?0:t;return e=e<0?subdata.length-1:e,e}function buttonall_disabled(t){for(let e of buttonall)e.disabled=t}isSafari&&alert("If you are using Safari or browsing on IOS, the display may not work correctly!"),window.onload=function(){let t=+location.hash.substring(1);t>=1&&t<=buttonfull.length&&navigate(buttonfull[t-1])};